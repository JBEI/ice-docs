<head>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="../bootstrap/css/bootstrap.min.css">

    <!-- Optional theme -->
    <!--<link rel="stylesheet" href="../bootstrap/css/bootstrap-theme.min.css">-->

    <!--jquery-->
    <script src="../js/jquery-2.2.3.min.js"></script>

    <!-- Latest compiled and minified JavaScript -->
    <script src="../bootstrap/js/bootstrap.min.js"></script>

    <!-- local stylesheet-->
    <link rel="stylesheet" type="text/css" href="../css/custom.css">
</head>

<div class="page-header">
    <h3>AccessToken Resource</h3>
</div>


<table class="table table-striped table-bordered" id="1">
    <tbody>
    <tr>
        <th valign="top">Title</th>
        <td><b>Create Access Token</b><br>
            <small>Create Access Token for specified user</small>
        </td>
    </tr>

    <tr>
        <th valign="top">URL</th>
        <td><code>/rest/accessTokens</code></td>
    </tr>

    <tr>
        <th valign="top">Method</th>
        <td><b><code>POST</code></b></td>
    </tr>

    <tr>
        <th valign="top">URL Params</th>
        <td>
        </td>
    </tr>
    </tr>

    <tr>
        <th valign="top">Data Params</th>
        <td>
            <b>Example:</b> <br>
        <pre>{
    email : String,
    password : String,
}</pre>
        </td>
    </tr>

    <tr>
        <th valign="top">Header Params</th>
        <td>
        </td>
    </tr>

    <tr>
        <th valign="top">
            Success Response
        </th>
        <td ng-init="showResponse=false">
            <b>Code:</b> 200 <br>
            <b>Example content:</b> <a class="cursor-pointer" ng-click="showResponse = !showResponse"><span
                ng-if="!showResponse">Show</span> <span ng-if="showResponse">Hide</span> </a>
            <pre ng-if="showResponse">{
    email: String,
    sessionId: String
    firstName: String,
    lastName: String,
    isAdmin: Boolean,
    newMessageCount: Integer
}</pre>
        </td>
    </tr>

    <tr>
        <th valign="top">
            Error Response
        </th>
        <td>
            <b>Code:</b> 400
            <small class="text-muted">BAD_REQUEST</small>
            <br>
            <small>If email or password is missing</small>
            <br><br>
            <b>Code:</b> 401
            <small class="text-muted">UNAUTHORIZED</small>
            <br>
            <small>If authentication fails due to invalid username and password combination</small>
            <br><br>
            <b>Code:</b> 500
            <small class="text-muted">INTERNAL_SERVER_ERROR</small>
            <br>
            <small>On unknown server error</small>
        </td>
    </tr>

    <tr>
        <th valign="top">
            Sample Call
        </th>
        <td>
            <pre>
    curl -X POST
         -H "Content-Type: application/json"
         -d '{email:"&lsaquo;email-address&rsaquo;", password:"&lsaquo;password&rsaquo;"}'
         "https://public-registry.jbei.org/rest/accesstokens"</pre>
        </td>
    </tr>

    <tr>
        <th valign="top">Notes</th>
        <td>
            API for logging in to create a unique session identifier (access token). This identifier is passed with any
            subsequent request as the value for the header "X-ICE-Authentication-SessionId"
        </td>
    </tr>
    </tbody>
</table>


<table class="table table-striped table-bordered margin-top" id="2">
    <tbody>
    <tr>
        <th valign="top">Title</th>
        <td><b>Delete Access Token</b></td>
    </tr>

    <tr>
        <th valign="top">URL</th>
        <td><code>/rest/accessTokens</code></td>
    </tr>

    <tr>
        <th valign="top">Method</th>
        <td><b><code>DELETE</code></b></td>
    </tr>

    <tr>
        <th valign="top">URL Params</th>
        <td>
            <b>Required:</b> <br>
            <i>None</i>
            <br><br>
            <b>Optional:</b> <br>
            <i>None</i>
        </td>
    </tr>

    <tr>
        <th valign="top">Data Params</th>
        <td>
        </td>
    </tr>

    <tr>
        <th valign="top">Header Params</th>
        <td>
            <code>X-ICE-Authentication-SessionId</code><br>
            Unique session id obtained after most recent successful authentication.
        </td>
    </tr>

    <tr>
        <th valign="top">
            Success Response
        </th>
        <td>
            <b>Code:</b> 200 <br>
        </td>
    </tr>

    <tr>
        <th valign="top">
            Error Response
        </th>
        <td>
            <b>Code:</b> 401
            <small class="text-muted">UNAUTHORIZED</small>
            <br>
            <small>If session identifier is invalid</small>
            <br><br>

            <b>Code:</b> 500
            <small class="text-muted">INTERNAL_SERVER_ERROR</small>
            <br>
            <small>On unknown server error</small>
        </td>
    </tr>

    <tr>
        <th valign="top">
            Sample Call
        </th>
        <td>
            <pre>
    curl -X DELETE
         -H "Content-Type: application/json"
         -H "X-ICE-Authentication-SessionId: &lsaquo;session-identifier&rsaquo;"
         -d ''
         "https://public-registry.jbei.org/rest/accesstokens"</pre>
        </td>
    </tr>

    <tr>
        <th valign="top">Notes</th>
        <td>
            Deleting an access token which represents a session id invalidates that session id and
            logs the user out of the application.
        </td>
    </tr>
    </tbody>
</table>


<table class="table table-striped table-bordered margin-top" id="3">
    <tbody>
    <tr>
        <th valign="top">Title</th>
        <td><b>Get Access Token User</b><br>
            <small>Retrieves the account information associated with a specified session identifier</small>
        </td>
    </tr>

    <tr>
        <th valign="top">URL</th>
        <td><code>/rest/accessTokens</code></td>
    </tr>

    <tr>
        <th valign="top">Method</th>
        <td><b><code>GET</code></b></td>
    </tr>

    <tr>
        <th valign="top">URL Params</th>
        <td>
            <b>Required:</b> <br>
            <i>None</i>

            <br><br>
            <b>Optional:</b> <br>
            <i>None</i>
        </td>
    </tr>

    <tr>
        <th valign="top">Data Params</th>
        <td></td>
    </tr>

    <tr>
        <th valign="top">Header Params</th>
        <td>
            <b>Required:</b> <br>
            <code>X-ICE-Authentication-SessionId</code><br>
            Unique session identifier for user making request.
        </td>
    </tr>

    <tr>
        <th valign="top">
            Success Response
        </th>
        <td ng-init="showResponse=false">
            <b>Code:</b> 200 <br>
            <b>Example content:</b> <a class="cursor-pointer" ng-click="showResponse = !showResponse"><span
                ng-if="!showResponse">Show</span> <span ng-if="showResponse">Hide</span> </a>
            <pre ng-if="showResponse">{
    email: String,
    sessionId: String
    firstName: String,
    lastName: String,
    isAdmin: Boolean,
    newMessageCount: Integer
}</pre>
        </td>
    </tr>

    <tr>
        <th valign="top">
            Error Response
        </th>
        <td>
            <b>Code:</b> 401
            <small class="text-muted">UNAUTHORIZED</small>
            <br>
            <small>If session identifier of user making request is invalid</small>
            <br><br>

            <b>Code:</b> 403
            <small class="text-muted">FORBIDDEN</small>
            <br>
            <small>If user making request differs from user associated with the session token but the
                requesting user does not have administrative privileges
            </small>
            <br><br>

        </td>
    </tr>

    <tr>
        <th valign="top">
            Sample Call
        </th>
        <td>
            <pre>
curl -X GET
     -H "Content-Type: application/json"
     -H "X-ICE-Authentication-SessionId: &lsaquo;session-identifier&rsaquo;"
     "https://localhost:8443/rest/accesstokens/"</pre>
        </td>
    </tr>

    <tr>
        <th valign="top">Notes</th>
        <td>
        </td>
    </tr>
    </tbody>
</table>
